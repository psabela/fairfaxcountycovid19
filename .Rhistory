View
dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
ALLOC_ACCT %in% c('41121','41151','41155','41181','41185')) %>%
select(GRAD_LEVEL, TERM_CODE, ALLOC_ACCT, everything()) %>%
View
ALLOC_ACCT %in% c('41121','41151','41155','41181','41185')) %>%
select( TERM_CODE, ALLOC_ACCT, everything()) %>%
View
ALLOC_ACCT %in% c('41121','41151','41155','41181','41185')) %>%
select(GRAD_LEVEL) %>%
View
ALLOC_ACCT %in% c('41121','41151','41155','41181','41185')) %>%
select('GRAD_LEVEL') %>%
View
dt %>% View
dt %>% select(GRAD_LEVEL)
dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901'),
ALLOC_ACCT %in% c('41121','41151','41155','41181','41185')) %>%
select('GRAD_LEVEL', 'TERM_CODE', 'ALLOC_ACCT', everything()) %>%
View
dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901'),
ALLOC_ACCT %in% c('41121','41151','41155','41181','41185')) %>%
select('GRAD_LEVEL', 'TERM_CODE', 'ALLOC_ACCT', everything()) %>%
View
dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
-- ALLOC_ACCT %in% c('41121','41151','41155','41181','41185')) %>%
select('GRAD_LEVEL', 'TERM_CODE', 'ALLOC_ACCT', everything()) %>%
View
dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
-- ALLOC_ACCT %in% c('41121','41151','41155','41181','41185')
) %>%
select('GRAD_LEVEL', 'TERM_CODE', 'ALLOC_ACCT', everything()) %>%
View
dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
-- ALLOC_ACCT %in% c('41121','41151','41155','41181','41185')
) %>%
select('GRAD_LEVEL', 'TERM_CODE', 'ALLOC_ACCT', everything()) %>%
View
# ALLOC_ACCT %in% c('41121','41151','41155','41181','41185')
) %>%
select('GRAD_LEVEL', 'TERM_CODE', 'ALLOC_ACCT', everything()) %>%
View
dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
# ALLOC_ACCT %in% c('41121','41151','41155','41181','41185')
) %>%
select('GRAD_LEVEL', 'TERM_CODE', 'ALLOC_ACCT', everything()) %>%
View
dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
# ALLOC_ACCT %in% c('41121','41151','41155','41181','41185')
) %>%
select('GRAD_LEVEL', 'TERM_CODE', 'ALLOC_ACCT', everything()) %>%
distinct(ALLOC_ACCT)
dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
# ALLOC_ACCT %in% c('41121','41151','41155','41181','41185')
) %>%
select('GRAD_LEVEL', 'TERM_CODE', 'ALLOC_ACCT', everything()) %>%
distinct(ALLOC_ACCT) %>%
View
dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
) %>%
select('GRAD_LEVEL', 'TERM_CODE', 'ALLOC_ACCT','DISTRICT_CAMP_DESC','STUDENT_CAMPUS','STU_CAMP_CODE', everything()) %>%
View
dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
) %>%
select('GRAD_LEVEL', 'TERM_CODE', 'ALLOC_ACCT','DISTRICT_CAMP_DESC','STUDENT_CAMPUS','STU_CAMP_CODE','DELIVERY_METHOD', everything()) %>%
View
dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
) %>%
select('GRAD_LEVEL', 'TERM_CODE', 'ALLOC_ACCT','DISTRICT_CAMP_DESC','STUDENT_CAMPUS','STU_CAMP_CODE','DELIVERY_METHOD', everything()) %>%
View
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
) %>%
select('GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'DELIVERY_METHOD',
everything())
dt %>% View
dt %>% group_by(DISTRICT_CAMP_DESC) %>% summarise(s1 = sum(`Distributable Amt`,na.rm = T), s1 = sum(DISTRIBUTABLE_AMT, na.rm = T))
dt %>% group_by(DISTRICT_CAMP_DESC) %>%
summarise(Dis = sum(`Distributable Amt`,na.rm = T), DIS = sum(DISTRIBUTABLE_AMT, na.rm = T))
dt %>% group_by(STUDENT_CAMPUS) %>%
summarise(Dis = sum(`Distributable Amt`,na.rm = T), DIS = sum(DISTRIBUTABLE_AMT, na.rm = T))
dt %>% group_by(STU_CAMP_CODE) %>%
summarise(Dis = sum(`Distributable Amt`,na.rm = T), DIS = sum(DISTRIBUTABLE_AMT, na.rm = T))
dt %>% group_by(DELIVERY_METHOD) %>%
summarise(Dis = sum(`Distributable Amt`,na.rm = T), DIS = sum(DISTRIBUTABLE_AMT, na.rm = T))
dt %>% group_by(STU_CAMP_CODE) %>%
summarise(Dis = sum(`Distributable Amt`,na.rm = T), DIS = sum(DISTRIBUTABLE_AMT, na.rm = T))
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901'),
STU_CAMP_CODE == '3'
) %>%
select('GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'DELIVERY_METHOD',
everything())
dt %>% View
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901'),
STU_CAMP_CODE != '3'
) %>%
select('GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'DELIVERY_METHOD',
everything())
dt %>% View
dt <- read_excel("STAR FY19 to FY20 4.14.20 - to Peter.xlsx",sheet = 'category_data')
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901'),
STU_CAMP_CODE != '3'
) %>%
select('GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'DELIVERY_METHOD',
everything())
dt %>% View
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901'),
is.na(STUDENT_CAMPUS)
) %>%
select('GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'DELIVERY_METHOD',
everything())
dt <- read_excel("STAR FY19 to FY20 4.14.20 - to Peter.xlsx",sheet = 'category_data')
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901'),
is.na(STUDENT_CAMPUS)
) %>%
select('GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'DELIVERY_METHOD',
everything())
dt %>% View
dt <- read_excel("STAR FY19 to FY20 4.14.20 - to Peter.xlsx",sheet = 'category_data')
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901'),
STU_CAMP_CODE != '3'
) %>%
select('GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'CRN_CAMP_CODE',
'DELIVERY_METHOD',
everything())
dt %>% View
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
) %>%
select('GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'CRN_CAMP_CODE',
'DELIVERY_METHOD',
everything()) %>%
distinct(DISTRICT_CAMP_DESC,
STUDENT_CAMPUS,
STU_CAMP_CODE,
CRN_CAMP_CODE,
DELIVERY_METHOD)
dt %>% View
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
) %>%
select('GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'CRN_CAMP_CODE',
'DELIVERY_METHOD',
everything()) %>%
distinct(DISTRICT_CAMP_DESC,
CRN_CAMP_CODE,
DELIVERY_METHOD
#STUDENT_CAMPUS,
#STU_CAMP_CODE,
)
dt <- read_excel("STAR FY19 to FY20 4.14.20 - to Peter.xlsx",sheet = 'category_data')
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
) %>%
select('GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'CRN_CAMP_CODE',
'DELIVERY_METHOD',
everything()) %>%
distinct(DISTRICT_CAMP_DESC,
CRN_CAMP_CODE,
DELIVERY_METHOD
#STUDENT_CAMPUS,
#STU_CAMP_CODE,
)
dt %>% View
dt <- read_excel("STAR FY19 to FY20 4.14.20 - to Peter.xlsx",sheet = 'category_data')
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
) %>%
select('GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'CRN_CAMP_CODE',
'DELIVERY_METHOD',
everything()) %>%
distinct(DISTRICT_CAMP_DESC,
DELIVERY_METHOD,
CRN_CAMP_CODE
#STUDENT_CAMPUS,
#STU_CAMP_CODE,
)
dt %>% View
dt <- read_excel("STAR FY19 to FY20 4.14.20 - to Peter.xlsx",sheet = 'category_data')
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
) %>%
select('GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'CRN_CAMP_CODE',
'DELIVERY_METHOD',
everything())
dt %>% View
dt %>% filter(DISTRICT_CAMP_DESC == 'OFF-CAMPUS' & DELIVERY_METHOD == 'FACE-TO-FACE') %>% View
dt %>% filter(is.na(DISTRICT_CAMP_DESC)) %>% View
dt %>% filter(is.na(DISTRICT_CAMP_DESC)) %>% distinct(CRN) %>% View
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
) %>%
select('GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'CRN_CAMP_CODE',
'DELIVERY_METHOD',
everything()) %>%
distinct(#DISTRICT_CAMP_DESC,
#DELIVERY_METHOD,
#CRN_CAMP_CODE
STUDENT_CAMPUS,
STU_CAMP_CODE
)
dt <- read_excel("STAR FY19 to FY20 4.14.20 - to Peter.xlsx",sheet = 'category_data')
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
) %>%
select('GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'CRN_CAMP_CODE',
'DELIVERY_METHOD',
everything()) %>%
distinct(#DISTRICT_CAMP_DESC,
#DELIVERY_METHOD,
#CRN_CAMP_CODE
STUDENT_CAMPUS,
STU_CAMP_CODE
)
dt %>% View
dt %>% filter(is.na(STUDENT_CAMPUS) & STU_CAMP_CODE == 'OE') %>% View
dt <- read_excel("STAR FY19 to FY20 4.14.20 - to Peter.xlsx",sheet = 'category_data')
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
) %>%
select('GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'CRN_CAMP_CODE',
'DELIVERY_METHOD',
everything())
dt %>% filter(is.na(STUDENT_CAMPUS) & STU_CAMP_CODE == 'OE') %>% View
dt <- read_excel("STAR FY19 to FY20 4.14.20 - to Peter.xlsx",sheet = 'category_data')
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
) %>%
select('Student GWID',
'GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'CRN_CAMP_CODE',
'DELIVERY_METHOD',
everything())
dt %>% View()
dt %>% filter(is.na(STUDENT_CAMPUS) & STU_CAMP_CODE == 'OE') %>% View
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
) %>%
select('Student GWID',
'GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'CRN_CAMP_CODE',
'DELIVERY_METHOD',
everything()) %>%
distinct(#DISTRICT_CAMP_DESC,
#DELIVERY_METHOD,
#CRN_CAMP_CODE
STUDENT_CAMPUS,
STU_CAMP_CODE
)
dt %>% View
dt <- read_excel("STAR FY19 to FY20 4.14.20 - to Peter.xlsx",sheet = 'category_data')
dt <- dt %>% filter(GRAD_LEVEL == 'GRADUATE',
TERM_CODE %in% c('201802','201803','201901')
) %>%
select('Student GWID',
'GRAD_LEVEL',
'TERM_CODE',
'ALLOC_ACCT',
'DISTRICT_CAMP_DESC',
'STUDENT_CAMPUS',
'STU_CAMP_CODE',
'CRN_CAMP_CODE',
'DELIVERY_METHOD',
everything())
dt %>% group_by(DELIVERY_METHOD) %>%
summarise(Dis = sum(`Distributable Amt`,na.rm = T), DIS = sum(DISTRIBUTABLE_AMT, na.rm = T))
dt %>% group_by(DISTRICT_CAMP_DESC) %>%
summarise(Dis = sum(`Distributable Amt`,na.rm = T), DIS = sum(DISTRIBUTABLE_AMT, na.rm = T))
dt %>% group_by(STU_CAMP_CODE) %>%
summarise(Dis = sum(`Distributable Amt`,na.rm = T), DIS = sum(DISTRIBUTABLE_AMT, na.rm = T))
dt %>% group_by(STUDENT_CAMPUS) %>%
summarise(Dis = sum(`Distributable Amt`,na.rm = T), DIS = sum(DISTRIBUTABLE_AMT, na.rm = T))
dt %>% group_by(STU_CAMP_CODE) %>%
summarise(Dis = sum(`Distributable Amt`,na.rm = T), DIS = sum(DISTRIBUTABLE_AMT, na.rm = T))
dt %>% group_by(STU_CAMP_CODE) %>%
summarise(Dis = sum(`Distributable Amt`,na.rm = T), DIS = sum(DISTRIBUTABLE_AMT, na.rm = T)) %>% View
dt %>% group_by(DISTRICT_CAMP_DESC, STU_CAMP_CODE) %>%
summarise(Dis = sum(`Distributable Amt`,na.rm = T), DIS = sum(DISTRIBUTABLE_AMT, na.rm = T)) %>% View
dt %>% group_by(DISTRICT_CAMP_DESC, STU_CAMP_CODE) %>%
summarise(Distrib Amt = sum(`Distributable Amt`,na.rm = T)) %>% View
dt %>% group_by(DISTRICT_CAMP_DESC, STU_CAMP_CODE) %>%
summarise(Distrib Amt = sum(`Distributable Amt`,na.rm = T)) %>% View
dt %>% group_by(DISTRICT_CAMP_DESC, STU_CAMP_CODE) %>% summarise(DistribAmt = sum(`Distributable Amt`,na.rm = T)) %>% View
dt %>% group_by(DISTRICT_CAMP_DESC) %>% summarise(DistribAmt = sum(`Distributable Amt`,na.rm = T)) %>% View
dt %>% group_by(DISTRICT_CAMP_DESC,STU_CAMP_CODE) %>% summarise(DistribAmt = sum(`Distributable Amt`,na.rm = T)) %>% View
dt %>% group_by(STU_CAMP_CODE) %>% summarise(DistribAmt = sum(`Distributable Amt`,na.rm = T)) %>% View
setwd("C:/Users/psabela/Desktop/R workspace/fairfaxcountycovid19")
installed_packages <- 'pacman' %in% rownames(installed.packages())
if (any(installed_packages == FALSE)) { install.packages("pacman") }
library(pacman)
pacman::p_load(tidyverse, readr, ggplot2 ,lubridate, NLP, tm)
setwd("C:/Users/psabela/Desktop/R workspace/fairfaxcountycovid19")
df <- read_tsv("fairfaxcountycoronavirus.tsv")
df %>% ggplot() +
geom_line(aes(x = date, y = count)) +
scale_x_date(date_labels="%d %b",date_breaks  ="1 day") +
scale_y_continuous(breaks = seq(from = 0,to = 1400,by = 50)) +
geom_vline(xintercept = ymd('2020-03-16'), colour="blue") +
geom_text(aes(x=ymd('2020-03-16'), label="\nSchools Closed", y=250), colour="blue", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-03-23'), colour="red") +
geom_text(aes(x=ymd('2020-03-23'), label="\nBusinesses and playgrounds closed", y=250), colour="red", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-03-24'), colour="orange") +
geom_text(aes(x=ymd('2020-03-24'), label="\nGov Buildings and parks closed", y=250), colour="orange", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-03-31'), colour="brown") +
geom_text(aes(x=ymd('2020-03-31'), label="\nStay at Home Order", y=250), colour="brown", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-03-30'),colour="blue", linetype="dotted", size = 1.5) +
geom_text(aes(x=ymd('2020-03-30'), label="\n14 days after schools closed", y=250), colour="blue", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-04-06'),colour="red", linetype="dotted", size = 1.5) +
geom_text(aes(x=ymd('2020-04-06'), label="\n14 days after businesses and parks closed", y=250), colour="red", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-04-07'),colour="orange", linetype="dotted", size = 1.5) +
geom_text(aes(x=ymd('2020-04-07'), label="\n14 days after Gov buildings closed", y=250), colour="orange", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-04-14'),colour="brown", linetype="dotted", size = 1.5) +
geom_text(aes(x=ymd('2020-04-14'), label="\n14 days after stay at home order", y=250), colour="brown", angle=90, text=element_text(size=11)) +
ggtitle(label = 'Fairfax County, Virginia, COVID-19 Cases',subtitle = "source: https://www.fairfaxcounty.gov/covid19/case-information (chart by Peter Sabela)") +
ylab(label = "count") +
theme(panel.grid.minor =   element_blank(),
panel.grid.major =   element_line(colour = "white",size=0.75)) +
scale_y_continuous(position = "right")
df %>% ggplot() +
geom_line(aes(x = date, y = count)) +
scale_x_date(date_labels="%d %b",date_breaks  ="1 day") +
scale_y_continuous(breaks = seq(from = 0,to = 1400,by = 100)) +
geom_vline(xintercept = ymd('2020-03-16'), colour="blue") +
geom_text(aes(x=ymd('2020-03-16'), label="\nSchools Closed", y=250), colour="blue", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-03-23'), colour="red") +
geom_text(aes(x=ymd('2020-03-23'), label="\nBusinesses and playgrounds closed", y=250), colour="red", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-03-24'), colour="orange") +
geom_text(aes(x=ymd('2020-03-24'), label="\nGov Buildings and parks closed", y=250), colour="orange", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-03-31'), colour="brown") +
geom_text(aes(x=ymd('2020-03-31'), label="\nStay at Home Order", y=250), colour="brown", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-03-30'),colour="blue", linetype="dotted", size = 1.5) +
geom_text(aes(x=ymd('2020-03-30'), label="\n14 days after schools closed", y=250), colour="blue", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-04-06'),colour="red", linetype="dotted", size = 1.5) +
geom_text(aes(x=ymd('2020-04-06'), label="\n14 days after businesses and parks closed", y=250), colour="red", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-04-07'),colour="orange", linetype="dotted", size = 1.5) +
geom_text(aes(x=ymd('2020-04-07'), label="\n14 days after Gov buildings closed", y=250), colour="orange", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-04-14'),colour="brown", linetype="dotted", size = 1.5) +
geom_text(aes(x=ymd('2020-04-14'), label="\n14 days after stay at home order", y=250), colour="brown", angle=90, text=element_text(size=11)) +
ggtitle(label = 'Fairfax County, Virginia, COVID-19 Cases',subtitle = "source: https://www.fairfaxcounty.gov/covid19/case-information (chart by Peter Sabela)") +
ylab(label = "count") +
theme(panel.grid.minor =   element_blank(),
panel.grid.major =   element_line(colour = "white",size=0.75)) +
scale_y_continuous(position = "right")
df %>% ggplot() +
geom_line(aes(x = date, y = count)) +
scale_x_date(date_labels="%d %b",date_breaks  ="1 day") +
scale_y_continuous(breaks = seq(from = 0,to = 1400,by = 100)) +
geom_vline(xintercept = ymd('2020-03-16'), colour="blue") +
geom_text(aes(x=ymd('2020-03-16'), label="\nSchools Closed", y=250), colour="blue", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-03-23'), colour="red") +
geom_text(aes(x=ymd('2020-03-23'), label="\nBusinesses and playgrounds closed", y=250), colour="red", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-03-24'), colour="orange") +
geom_text(aes(x=ymd('2020-03-24'), label="\nGov Buildings and parks closed", y=250), colour="orange", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-03-31'), colour="brown") +
geom_text(aes(x=ymd('2020-03-31'), label="\nStay at Home Order", y=250), colour="brown", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-03-30'),colour="blue", linetype="dotted", size = 1.5) +
geom_text(aes(x=ymd('2020-03-30'), label="\n14 days after schools closed", y=250), colour="blue", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-04-06'),colour="red", linetype="dotted", size = 1.5) +
geom_text(aes(x=ymd('2020-04-06'), label="\n14 days after businesses and parks closed", y=250), colour="red", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-04-07'),colour="orange", linetype="dotted", size = 1.5) +
geom_text(aes(x=ymd('2020-04-07'), label="\n14 days after Gov buildings closed", y=250), colour="orange", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-04-14'),colour="brown", linetype="dotted", size = 1.5) +
geom_text(aes(x=ymd('2020-04-14'), label="\n14 days after stay at home order", y=250), colour="brown", angle=90, text=element_text(size=11)) +
ggtitle(label = 'Fairfax County, Virginia, COVID-19 Cases',subtitle = "source: https://www.fairfaxcounty.gov/covid19/case-information (chart by Peter Sabela)") +
ylab(label = "count") +
theme(panel.grid.minor =   element_blank(),
panel.grid.major =   element_line(colour = "white",size=0.75)) +
scale_y_continuous(position = "right",breaks = seq(from = 0,to = 1400,by = 100))
df %>% ggplot() +
geom_line(aes(x = date, y = count)) +
scale_x_date(date_labels="%d %b",date_breaks  ="1 day") +
geom_vline(xintercept = ymd('2020-03-16'), colour="blue") +
geom_text(aes(x=ymd('2020-03-16'), label="\nSchools Closed", y=250), colour="blue", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-03-23'), colour="red") +
geom_text(aes(x=ymd('2020-03-23'), label="\nBusinesses and playgrounds closed", y=250), colour="red", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-03-24'), colour="orange") +
geom_text(aes(x=ymd('2020-03-24'), label="\nGov Buildings and parks closed", y=250), colour="orange", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-03-31'), colour="brown") +
geom_text(aes(x=ymd('2020-03-31'), label="\nStay at Home Order", y=250), colour="brown", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-03-30'),colour="blue", linetype="dotted", size = 1.5) +
geom_text(aes(x=ymd('2020-03-30'), label="\n14 days after schools closed", y=250), colour="blue", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-04-06'),colour="red", linetype="dotted", size = 1.5) +
geom_text(aes(x=ymd('2020-04-06'), label="\n14 days after businesses and parks closed", y=250), colour="red", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-04-07'),colour="orange", linetype="dotted", size = 1.5) +
geom_text(aes(x=ymd('2020-04-07'), label="\n14 days after Gov buildings closed", y=250), colour="orange", angle=90, text=element_text(size=11)) +
geom_vline(xintercept = ymd('2020-04-14'),colour="brown", linetype="dotted", size = 1.5) +
geom_text(aes(x=ymd('2020-04-14'), label="\n14 days after stay at home order", y=250), colour="brown", angle=90, text=element_text(size=11)) +
ggtitle(label = 'Fairfax County, Virginia, COVID-19 Cases',subtitle = "source: https://www.fairfaxcounty.gov/covid19/case-information (chart by Peter Sabela)") +
ylab(label = "count") +
theme(panel.grid.minor =   element_blank(),
panel.grid.major =   element_line(colour = "white",size=0.75)) +
scale_y_continuous(position = "right",breaks = seq(from = 0,to = 1400,by = 100))
dt %>% group_by(DISTRICT_CAMP_DESC,DELIVERY_METHOD) %>% summarise(DistribAmt = sum(`Distributable Amt`,na.rm = T)) %>% View
rm(list = ls())
